# Claude会话管理最佳实践

✅ 推荐做法

定期清理：每月清理 30 天以上的旧会话
备份重要会话：将有价值的会话导出或复制到项目
使用描述性开场白：每次会话开始时说明任务目标
分离主题：不同任务启动新会话，不要混在一起
定期备份：每周备份所有会话到云存储

❌ 避免做法

不要在一个会话中处理多个不相关的任务
不要让会话变得过长（超过 100 条消息考虑开新会话）
不要依赖会话历史存储敏感信息（token、密码等）

# Hooks

## 同步文档

最佳实践
✅ 推荐做法：

使用交互式询问，不是每次都强制同步
在 feature 分支开发，合并到 main 时才同步
配置智能检测，只在有实质变化时触发
定期手动检查文档准确性
不是每次都需要;
可能是先实现，再去增加到需求;

1. 更新进度到 @PLAN.md
   - 检查本次修改完成了哪些任务
   - 更新任务状态和进度
   - 添加完成时间

2. 同步技术依赖到 @technical_architecture_zh.md
   - 检查是否有新增依赖（pubspec.yaml, go.mod 等）
   - 如果有新增依赖，更新到技术架构文档
   - 说明依赖的用途

3. 完善需求文档 @docs/requirements.md
   - 基于代码实现反向补充功能需求
   - 确保需求文档与实际实现一致
   - 添加实现的技术细节

请先分析代码变更，然后逐一更新这些文档。
