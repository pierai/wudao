# æ‚Ÿé“ - å¼€å‘è®¡åˆ’

## æ€»ä½“è·¯çº¿å›¾

```
Phase 1: äººç”Ÿç›®æ ‡ç®¡ç† MVP
    â†“
Phase 2: ä¹ æƒ¯è¿½è¸ªç³»ç»Ÿ    â† å½“å‰é˜¶æ®µ (Week 1-2 å·²å®Œæˆ)
    â†“
Phase 3: çµæ„Ÿè®°å½•ä¸åæ€
    â†“
Phase 4: çŸ¥è¯†åº“ä¸æœç´¢
    â†“
Phase 5: é«˜çº§åŠŸèƒ½ï¼ˆæ•°æ®åˆ†æã€å¯¼å‡ºç­‰ï¼‰
```

---

## Phase 1: äººç”Ÿç›®æ ‡ç®¡ç† MVP (4-6 å‘¨)

**ç›®æ ‡**: å®ç°åŸºäºã€Šé«˜æ•ˆèƒ½äººå£«çš„ä¸ƒä¸ªä¹ æƒ¯ã€‹çš„å±‚çº§ç›®æ ‡ç®¡ç†ç³»ç»Ÿ

### å·²å®Œæˆ âœ…

- [x] é¡¹ç›®æŠ€æœ¯æ¶æ„è®¾è®¡
- [x] æŠ€æœ¯æ ˆé€‰å‹å’Œä¾èµ–ç¡®è®¤
- [x] Claude Code Agent é…ç½®
- [x] **Task 1.1**: Flutter é¡¹ç›®åˆå§‹åŒ–
  - [x] åˆ›å»ºé¡¹ç›®éª¨æ¶
  - [x] é…ç½® `pubspec.yaml` ä¾èµ–
  - [x] è®¾ç½®ç›®å½•ç»“æ„ï¼ˆfeature-firstï¼‰
  - [x] é…ç½® Riverpod ProviderScope
- [x] **Task 1.2**: åˆ›å»º iOS é£æ ¼åº•éƒ¨å¯¼èˆª
  - [x] ä½¿ç”¨ liquid_glass_bottom_bar å®ç°ç»ç’ƒæ•ˆæœå¯¼èˆªæ 
  - [x] åˆ›å»º HomeScreen ä¸»å¯¼èˆªé¡µé¢
  - [x] æ·»åŠ  4 ä¸ª Tabï¼ˆç›®æ ‡/ä¹ æƒ¯/çµæ„Ÿ/æˆ‘çš„ï¼‰
  - [x] å®ç°é¡µé¢åˆ‡æ¢çŠ¶æ€ç®¡ç†ï¼ˆRiverpodï¼‰
  - [x] åˆ›å»ºå„åŠŸèƒ½æ¨¡å—å ä½é¡µé¢

- [x] **Task 1.3**: Go åç«¯é¡¹ç›®åˆå§‹åŒ–
  - [x] åˆ›å»ºæ ‡å‡†é¡¹ç›®ç»“æ„ (cmd/internal/pkg)
  - [x] é…ç½® Gin æ¡†æ¶
  - [x] è®¾ç½®ç¯å¢ƒå˜é‡åŠ è½½ (godotenv)
  - [x] å®ç°å¥åº·æ£€æŸ¥ç«¯ç‚¹ `/health`
- [x] **Task 1.4**: PostgreSQL æ•°æ®åº“è®¾ç½®
  - [x] åˆ›å»º Docker Compose é…ç½®
  - [x] å®‰è£… ltree æ‰©å±•
  - [x] è®¾è®¡ç›®æ ‡è¡¨ç»“æ„
  - [x] ç¼–å†™åˆå§‹åŒ–è¿ç§»è„šæœ¬

- [x] **Task 1.5**: å¼€å‘ç¯å¢ƒé…ç½®å’Œè°ƒè¯•
  - [x] é…ç½® macOS åº”ç”¨ç½‘ç»œæƒé™ï¼ˆentitlementsï¼‰
  - [x] è§£å†³ VS Code è°ƒè¯• VM Service å¯åŠ¨é—®é¢˜
  - [x] é…ç½® FVM Flutter SDK è·¯å¾„ï¼ˆ.fvm/flutter_sdkï¼‰
  - [x] éªŒè¯ Flutter åº”ç”¨ä¸ Go åç«¯è¿æ¥
  - [x] å‡çº§ Riverpod åˆ° 3.0 ç‰ˆæœ¬
  - [x] åˆ›å»º API å®¢æˆ·ç«¯åŸºç¡€æ¶æ„ï¼ˆDio + Interceptorsï¼‰
  - [x] å®ç°å¥åº·æ£€æŸ¥ç«¯ç‚¹æµ‹è¯•

### è¿›è¡Œä¸­ ğŸ”„

#### Week 2: ç›®æ ‡æ•°æ®æ¨¡å‹ä¸å­˜å‚¨

- [ ] **Task 2.1**: å®šä¹‰ Goal æ•°æ®æ¨¡å‹
  - [ ] åˆ›å»º Freezed Goal æ¨¡å‹
  - [ ] æ·»åŠ  JSON åºåˆ—åŒ–
  - [ ] å®šä¹‰ç›®æ ‡çŠ¶æ€æšä¸¾ï¼ˆactive/completed/archivedï¼‰
  - [ ] å®šä¹‰ä¼˜å…ˆçº§æšä¸¾ï¼ˆ1-5ï¼‰
  - **è´Ÿè´£**: @flutter_architect
  - **é¢„è®¡æ—¶é—´**: 2 å°æ—¶

- [ ] **Task 2.2**: Drift æœ¬åœ°æ•°æ®åº“
  - [ ] å®šä¹‰ GoalsTable
  - [ ] åˆ›å»º GoalDao
  - [ ] å®ç° CRUD æ–¹æ³•
  - [ ] æ·»åŠ å±‚çº§è·¯å¾„æŸ¥è¯¢
  - **è´Ÿè´£**: @flutter_architect
  - **é¢„è®¡æ—¶é—´**: 4 å°æ—¶

- [ ] **Task 2.3**: PostgreSQL ç›®æ ‡è¡¨å®ç°
  - [ ] åˆ›å»º goals è¡¨ï¼ˆltree pathï¼‰
  - [ ] æ·»åŠ ç´¢å¼•ï¼ˆGIST on pathï¼‰
  - [ ] ç¼–å†™ç¤ºä¾‹æŸ¥è¯¢ï¼ˆå­æ ‘ã€ç¥–å…ˆï¼‰
  - [ ] æµ‹è¯•å±‚çº§æŸ¥è¯¢æ€§èƒ½
  - **è´Ÿè´£**: @database_designer
  - **é¢„è®¡æ—¶é—´**: 3 å°æ—¶

- [ ] **Task 2.4**: Go Repository å±‚
  - [ ] å®šä¹‰ GoalRepository æ¥å£
  - [ ] å®ç° PostgresGoalRepository
  - [ ] ä½¿ç”¨ pgx å®ç° CRUD
  - [ ] å¤„ç† ltree è·¯å¾„æ“ä½œ
  - **è´Ÿè´£**: @go_backend
  - **é¢„è®¡æ—¶é—´**: 4 å°æ—¶

#### Week 3: ç›®æ ‡ç®¡ç† API

- [ ] **Task 3.1**: Go Service å±‚
  - [ ] åˆ›å»º GoalService
  - [ ] å®ç°ä¸šåŠ¡é€»è¾‘ï¼ˆè·¯å¾„ç”Ÿæˆã€éªŒè¯ï¼‰
  - [ ] æ·»åŠ è¿›åº¦è®¡ç®—é€»è¾‘
  - [ ] ç¼–å†™å•å…ƒæµ‹è¯•
  - **è´Ÿè´£**: @go_backend
  - **é¢„è®¡æ—¶é—´**: 4 å°æ—¶

- [ ] **Task 3.2**: RESTful API ç«¯ç‚¹
  - [ ] `GET /api/v1/goals` - è·å–ç›®æ ‡åˆ—è¡¨
  - [ ] `GET /api/v1/goals/:id` - è·å–å•ä¸ªç›®æ ‡
  - [ ] `POST /api/v1/goals` - åˆ›å»ºç›®æ ‡
  - [ ] `PUT /api/v1/goals/:id` - æ›´æ–°ç›®æ ‡
  - [ ] `DELETE /api/v1/goals/:id` - åˆ é™¤ç›®æ ‡
  - [ ] `GET /api/v1/goals/:id/children` - è·å–å­ç›®æ ‡
  - **è´Ÿè´£**: @go_backend
  - **é¢„è®¡æ—¶é—´**: 5 å°æ—¶

- [ ] **Task 3.3**: Swagger æ–‡æ¡£ç”Ÿæˆ
  - [ ] æ·»åŠ  swaggo æ³¨è§£
  - [ ] ç”Ÿæˆ Swagger JSON
  - [ ] é…ç½® Swagger UI
  - [ ] æµ‹è¯•æ‰€æœ‰ç«¯ç‚¹
  - **è´Ÿè´£**: @go_backend
  - **é¢„è®¡æ—¶é—´**: 2 å°æ—¶

- [ ] **Task 3.4**: ä¸­é—´ä»¶é…ç½®
  - [ ] CORS ä¸­é—´ä»¶
  - [ ] æ—¥å¿—ä¸­é—´ä»¶
  - [ ] API Key è®¤è¯ä¸­é—´ä»¶
  - [ ] é€Ÿç‡é™åˆ¶ä¸­é—´ä»¶
  - **è´Ÿè´£**: @go_backend
  - **é¢„è®¡æ—¶é—´**: 3 å°æ—¶

#### Week 4: Flutter UI å®ç°

- [ ] **Task 4.1**: ç›®æ ‡åˆ—è¡¨é¡µé¢
  - [ ] åˆ›å»º GoalsListScreen
  - [ ] ä½¿ç”¨ CupertinoListSection å±•ç¤ºå±‚çº§
  - [ ] å®ç°ä¸‹æ‹‰åˆ·æ–°
  - [ ] æ·»åŠ æœç´¢åŠŸèƒ½
  - [ ] æ”¯æŒæŒ‰çŠ¶æ€ç­›é€‰
  - **è´Ÿè´£**: @flutter_architect
  - **é¢„è®¡æ—¶é—´**: 6 å°æ—¶

- [ ] **Task 4.2**: ç›®æ ‡è¯¦æƒ…é¡µé¢
  - [ ] åˆ›å»º GoalDetailScreen
  - [ ] æ˜¾ç¤ºç›®æ ‡å®Œæ•´ä¿¡æ¯
  - [ ] å±•ç¤ºå­ç›®æ ‡åˆ—è¡¨
  - [ ] æ˜¾ç¤ºè¿›åº¦æ¡
  - [ ] æ·»åŠ ç¼–è¾‘/åˆ é™¤æŒ‰é’®
  - **è´Ÿè´£**: @flutter_architect
  - **é¢„è®¡æ—¶é—´**: 4 å°æ—¶

- [ ] **Task 4.3**: ç›®æ ‡åˆ›å»º/ç¼–è¾‘è¡¨å•
  - [ ] åˆ›å»º GoalFormScreen
  - [ ] å®ç° CupertinoTextField è¡¨å•
  - [ ] çˆ¶ç›®æ ‡é€‰æ‹©å™¨ï¼ˆå±‚çº§æ ‘ï¼‰
  - [ ] ä¼˜å…ˆçº§é€‰æ‹©å™¨
  - [ ] æ—¥æœŸé€‰æ‹©å™¨
  - [ ] è¡¨å•éªŒè¯
  - **è´Ÿè´£**: @flutter_architect
  - **é¢„è®¡æ—¶é—´**: 5 å°æ—¶

- [ ] **Task 4.4**: Riverpod çŠ¶æ€ç®¡ç†
  - [ ] åˆ›å»º GoalsNotifier
  - [ ] å®ç° AsyncNotifierProvider
  - [ ] å¤„ç†åŠ è½½/é”™è¯¯/æ•°æ®çŠ¶æ€
  - [ ] æ·»åŠ ä¹è§‚æ›´æ–°
  - **è´Ÿè´£**: @flutter_architect
  - **é¢„è®¡æ—¶é—´**: 4 å°æ—¶

#### Week 5: å‰åç«¯é›†æˆ

- [ ] **Task 5.1**: Dio API Client é…ç½®
  - [ ] é…ç½® BaseOptions
  - [ ] æ·»åŠ  LogInterceptor
  - [ ] æ·»åŠ  AuthInterceptor
  - [ ] æ·»åŠ  RetryInterceptor
  - **è´Ÿè´£**: @integration_specialist
  - **é¢„è®¡æ—¶é—´**: 3 å°æ—¶

- [ ] **Task 5.2**: GoalRepository å®ç°
  - [ ] åˆ›å»º ApiGoalRepository
  - [ ] å®ç°æ‰€æœ‰ CRUD æ–¹æ³•
  - [ ] é”™è¯¯å¤„ç†å’Œæ˜ å°„
  - [ ] è¶…æ—¶å’Œé‡è¯•é€»è¾‘
  - **è´Ÿè´£**: @integration_specialist
  - **é¢„è®¡æ—¶é—´**: 4 å°æ—¶

- [ ] **Task 5.3**: ç¦»çº¿ä¼˜å…ˆåŒæ­¥
  - [ ] å®ç°ç¼“å­˜ç­–ç•¥
  - [ ] åˆ›å»º PendingActionsQueue
  - [ ] ç½‘ç»œçŠ¶æ€ç›‘å¬
  - [ ] è‡ªåŠ¨åå°åŒæ­¥
  - **è´Ÿè´£**: @integration_specialist
  - **é¢„è®¡æ—¶é—´**: 6 å°æ—¶

- [ ] **Task 5.4**: é›†æˆæµ‹è¯•
  - [ ] æµ‹è¯•åˆ›å»ºç›®æ ‡æµç¨‹
  - [ ] æµ‹è¯•ç¦»çº¿åˆ›å»º+åœ¨çº¿åŒæ­¥
  - [ ] æµ‹è¯•ç½‘ç»œé”™è¯¯å¤„ç†
  - [ ] æµ‹è¯•å†²çªè§£å†³
  - **è´Ÿè´£**: @integration_specialist
  - **é¢„è®¡æ—¶é—´**: 4 å°æ—¶

#### Week 6: ä¼˜åŒ–ä¸å®Œå–„

- [ ] **Task 6.1**: æ€§èƒ½ä¼˜åŒ–
  - [ ] Widget é‡å»ºä¼˜åŒ–
  - [ ] åˆ—è¡¨æ»šåŠ¨æ€§èƒ½
  - [ ] å›¾ç‰‡/ç¼“å­˜ä¼˜åŒ–
  - [ ] æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–
  - **é¢„è®¡æ—¶é—´**: 4 å°æ—¶

- [ ] **Task 6.2**: UI ç»†èŠ‚æ‰“ç£¨
  - [ ] è¿‡æ¸¡åŠ¨ç”»
  - [ ] è§¦è§‰åé¦ˆ
  - [ ] ç©ºçŠ¶æ€è®¾è®¡
  - [ ] é”™è¯¯çŠ¶æ€è®¾è®¡
  - **é¢„è®¡æ—¶é—´**: 4 å°æ—¶

- [ ] **Task 6.3**: Docker éƒ¨ç½²é…ç½®
  - [ ] ç¼–å†™ Dockerfile
  - [ ] é…ç½® docker-compose.yml
  - [ ] ç¯å¢ƒå˜é‡é…ç½®
  - [ ] å¥åº·æ£€æŸ¥
  - **è´Ÿè´£**: @go_backend
  - **é¢„è®¡æ—¶é—´**: 3 å°æ—¶

- [ ] **Task 6.4**: æ–‡æ¡£å®Œå–„
  - [ ] API æ–‡æ¡£å®Œå–„
  - [ ] éƒ¨ç½²æŒ‡å—
  - [ ] ç”¨æˆ·æ‰‹å†Œï¼ˆåˆç¨¿ï¼‰
  - [ ] æ›´æ–° CLAUDE.md
  - **é¢„è®¡æ—¶é—´**: 3 å°æ—¶

### Phase 1 éªŒæ”¶æ ‡å‡† âœ“

- [ ] ç”¨æˆ·å¯ä»¥åˆ›å»º 5 å±‚å±‚çº§ç›®æ ‡
- [ ] ç›®æ ‡æ”¯æŒç¼–è¾‘ã€åˆ é™¤ã€å½’æ¡£
- [ ] è¿›åº¦è‡ªåŠ¨è®¡ç®—å’Œå±•ç¤º
- [ ] ç¦»çº¿åˆ›å»ºç›®æ ‡ï¼Œåœ¨çº¿è‡ªåŠ¨åŒæ­¥
- [ ] iOS é£æ ¼ UIï¼Œæµç•…çš„åŠ¨ç”»
- [ ] åç«¯ API æœ‰å®Œæ•´ Swagger æ–‡æ¡£
- [ ] Docker Compose ä¸€é”®å¯åŠ¨
- [ ] ä»£ç è¦†ç›–ç‡ > 60%

---

## Phase 2: ä¹ æƒ¯è¿½è¸ªç³»ç»Ÿ (4 å‘¨)

**ç›®æ ‡**: åŸºäºã€Šä¹ æƒ¯çš„åŠ›é‡ã€‹å®ç°ä¹ æƒ¯è¿½è¸ªå’Œè§¦å‘æœºåˆ¶ç®¡ç†

**æŠ€æœ¯ç­–ç•¥**:
- Phase 2: çº¯æœ¬åœ° Drift å­˜å‚¨ï¼ˆå¿«é€Ÿ MVPï¼‰
- Phase 5+: å¯é€‰äº‘ç«¯åŒæ­¥ï¼ˆGo åç«¯ + PostgreSQLï¼‰

### Week 1: æ•°æ®å±‚ä¸é¢†åŸŸå±‚ (åŸºç¡€æ¶æ„) âœ…

#### Task 2.1: Drift æ•°æ®åº“è¡¨è®¾è®¡ âœ…
- [x] åˆ›å»º `lib/core/database/tables/habits_table.dart`
  - ä¹ æƒ¯å¾ªç¯ä¸‰è¦ç´ ï¼ˆæš—ç¤º cueã€æƒ¯å¸¸è¡Œä¸º routineã€å¥–èµ rewardï¼‰
  - ä¹ æƒ¯ç±»å‹ï¼ˆæ­£å‘ä¹ æƒ¯ POSITIVEã€ä¹ æƒ¯æ›¿ä»£ REPLACEMENTï¼‰
  - è½¯åˆ é™¤æ”¯æŒ
  - **ä¿®å¤**: CHECK çº¦æŸä½¿ç”¨ä¸‹åˆ’çº¿å‘½å `old_routine`
- [x] åˆ›å»º `lib/core/database/tables/habit_records_table.dart`
  - æ‰§è¡Œè®°å½•ï¼ˆæ—¶é—´æˆ³ã€è´¨é‡è¯„åˆ† 1-5ã€ç¬”è®°ï¼‰
  - æ”¯æŒè¡¥æ‰“å¡æ ‡è®° isBackfilled
- [x] åˆ›å»º `lib/core/database/tables/daily_plans_table.dart`
  - æ¬¡æ—¥è®¡åˆ’ï¼ˆå…³è”ä¹ æƒ¯ã€æš—ç¤ºä»»åŠ¡ã€ä¼˜å…ˆçº§ï¼‰
  - è®¡åˆ’å®ŒæˆçŠ¶æ€ä¸æ‰“å¡è®°å½•å…³è”
- [x] åˆ›å»º `lib/core/database/tables/habit_frontmatters_table.dart`
  - ä¹ æƒ¯æ„Ÿæ‚Ÿï¼ˆMarkdown å†…å®¹ã€æ ‡ç­¾ç³»ç»Ÿï¼‰
- [x] è¿è¡Œä»£ç ç”Ÿæˆ: `dart run build_runner build --delete-conflicting-outputs`
- **è´Ÿè´£**: @flutter_architect
- **å®é™…æ—¶é—´**: 4 å°æ—¶

#### Task 2.2: DAO å±‚å®ç° âœ…
- [x] å®ç° `lib/core/database/daos/habit_dao.dart`
  - watchActiveHabits(), getHabitById(), insertHabit(), updateHabit(), softDeleteHabit()
  - æŒ‰åˆ†ç±»ç­›é€‰ã€æœç´¢åŠŸèƒ½
- [x] å®ç° `lib/core/database/daos/habit_record_dao.dart`
  - getRecordsByHabitId(), hasRecordOnDate(), insertRecord()
  - æ—¥æœŸèŒƒå›´æŸ¥è¯¢æ”¯æŒ
- [x] å®ç° `lib/core/database/daos/daily_plan_dao.dart`
  - watchPlansByDate(), insertPlans(), completePlan()
- [x] å®ç° `lib/core/database/daos/frontmatter_dao.dart`
  - watchAllFrontmatters(), getLatestFrontmatter()
- [x] æ›´æ–° `lib/core/database/app_database.dart` æ³¨å†Œæ‰€æœ‰è¡¨å’Œ DAO
- **è´Ÿè´£**: @flutter_architect
- **å®é™…æ—¶é—´**: 5 å°æ—¶

#### Task 2.3: é¢†åŸŸå®ä½“å®šä¹‰ï¼ˆFreezedï¼‰ âœ…
- [x] å®šä¹‰ `lib/features/habits/domain/entities/habit.dart`
  - Habit å®ä½“ + HabitType æšä¸¾
- [x] å®šä¹‰ `lib/features/habits/domain/entities/habit_record.dart`
- [x] å®šä¹‰ `lib/features/habits/domain/entities/daily_plan.dart`
- [x] å®šä¹‰ `lib/features/habits/domain/entities/habit_frontmatter.dart`
- [x] å®šä¹‰ `lib/features/habits/domain/entities/habit_stats.dart`
  - è¿ç»­å¤©æ•°ã€æ€»æ‰§è¡Œæ¬¡æ•°ã€å®Œæˆç‡ã€æœ€ä½³è¿ç»­è®°å½•
- [x] è¿è¡Œ Freezed ä»£ç ç”Ÿæˆ
- **è´Ÿè´£**: @flutter_architect
- **å®é™…æ—¶é—´**: 3 å°æ—¶

#### Task 2.4: Repository å±‚å®ç° âœ…
- [x] å®šä¹‰ `lib/features/habits/domain/repositories/habit_repository.dart` æ¥å£
  - ä¹ æƒ¯ CRUDã€æ‰§è¡Œè®°å½•ã€ç»Ÿè®¡ä¿¡æ¯ã€æ¬¡æ—¥è®¡åˆ’ã€Frontmatter
- [x] å®ç° `lib/features/habits/data/repositories/habit_repository_impl.dart`
  - å®Œæ•´çš„ä¸šåŠ¡é€»è¾‘å®ç°
  - è¿ç»­å¤©æ•°è®¡ç®—ç®—æ³•ï¼ˆ_calculateCurrentStreakï¼‰
  - å®Œæˆç‡è®¡ç®—ç®—æ³•ï¼ˆ_calculateCompletionRateï¼‰
- [x] åˆ›å»ºæ•°æ®æ¨¡å‹è½¬æ¢å™¨
  - `lib/features/habits/data/models/habit_model.dart`ï¼ˆtoEntity/toData æ‰©å±•ï¼‰
  - å…¶ä»–å®ä½“çš„è½¬æ¢å™¨
- **è´Ÿè´£**: @flutter_architect
- **å®é™…æ—¶é—´**: 6 å°æ—¶

### Week 2: æ ¸å¿ƒ UI å®ç° (åŸºç¡€åŠŸèƒ½) âœ…

#### Task 2.5: Riverpod Providers é…ç½® âœ…
- [x] åˆ›å»º `lib/features/habits/presentation/providers/habit_provider.dart`
  - databaseProviderã€habitRepositoryProvider
  - activeHabitsProvider (StreamProvider)
  - habitStatsProvider (FutureProvider.family)
  - hasTodayRecordProvider (FutureProvider.family)
  - searchHabitsProvider (FutureProvider.family)
- [x] æ›´æ–° `lib/main.dart` æ·»åŠ  ProviderScope
- [x] æ›´æ–° `lib/app.dart` ä½¿ç”¨ ConsumerWidget
- **è´Ÿè´£**: @flutter_architect
- **å®é™…æ—¶é—´**: 2 å°æ—¶

#### Task 2.6: ä¹ æƒ¯åˆ—è¡¨é¡µé¢ âœ…
- [x] å®ç° `lib/features/habits/presentation/screens/habits_screen.dart`
  - CupertinoPageScaffold + å¯¼èˆªæ ï¼ˆä¿®å¤ Hero æ ‡ç­¾å†²çªï¼‰
  - StreamProvider ç›‘å¬ä¹ æƒ¯åˆ—è¡¨
  - ç©ºçŠ¶æ€è®¾è®¡ï¼ˆç²¾ç¾æ’å›¾ + å¼•å¯¼æ–‡æ¡ˆï¼‰
  - ä¸‹æ‹‰åˆ·æ–°æ”¯æŒ
  - æœç´¢åŠŸèƒ½ï¼ˆCupertinoSearchTextFieldï¼‰
- [x] åˆ›å»º `lib/features/habits/presentation/widgets/habit_card.dart`
  - æ˜¾ç¤ºä¹ æƒ¯åç§°ã€æš—ç¤ºã€è¿ç»­å¤©æ•°ã€å®Œæˆç‡
  - ä¹ æƒ¯ç±»å‹å¾½ç« ï¼ˆ"æ­£å‘ä¹ æƒ¯"/"ä¹ æƒ¯æ›¿ä»£"ï¼‰
  - å¿«é€Ÿæ‰“å¡æŒ‰é’®ï¼ˆå·²æ‰“å¡æ˜¾ç¤º âœ“ï¼‰
  - **ä¼˜åŒ–äº¤äº’**: ç‚¹å‡»å¡ç‰‡è¿›å…¥ç¼–è¾‘ã€å·¦æ»‘åˆ é™¤ï¼ˆDismissibleï¼‰
  - ä¿®å¤å¸ƒå±€çº¦æŸé—®é¢˜ï¼ˆColumn mainAxisSizeï¼‰
- **è´Ÿè´£**: @flutter_architect
- **å®é™…æ—¶é—´**: 7 å°æ—¶

#### Task 2.7: åˆ›å»º/ç¼–è¾‘ä¹ æƒ¯è¡¨å• âœ…
- [x] å®ç° `lib/features/habits/presentation/screens/habit_form_screen.dart`
  - CupertinoSegmentedControl é€‰æ‹©ä¹ æƒ¯ç±»å‹
  - è¡¨å•å­—æ®µï¼šåç§°ã€æš—ç¤ºã€æƒ¯å¸¸è¡Œä¸ºã€å¥–èµã€åˆ†ç±»ã€å¤‡æ³¨
  - ä¹ æƒ¯æ›¿ä»£æ¨¡å¼ï¼šé¢å¤–æ˜¾ç¤º"åŸæƒ¯å¸¸è¡Œä¸º"å­—æ®µ
  - è¡¨å•éªŒè¯ï¼ˆå¿…å¡«é¡¹æ£€æŸ¥ï¼‰
  - ä¿å­˜é€»è¾‘ï¼ˆåˆ›å»º/æ›´æ–°ï¼‰
- [x] æ·»åŠ æç¤ºæ–‡æ¡ˆï¼ˆğŸ’¡ æš—ç¤ºè¶Šå…·ä½“ï¼Œè¶Šå®¹æ˜“è§¦å‘ï¼‰
- **è´Ÿè´£**: @flutter_architect
- **å®é™…æ—¶é—´**: 5 å°æ—¶

#### Task 2.8: æ‰“å¡å¯¹è¯æ¡† âœ…
- [x] åˆ›å»º `lib/features/habits/presentation/widgets/check_in_dialog.dart`
  - CupertinoAlertDialog æ ·å¼
  - æ‰§è¡Œæ—¶é—´é€‰æ‹©ï¼ˆCupertinoDatePickerï¼‰
  - æ‰§è¡Œè´¨é‡æ˜Ÿçº§é€‰æ‹©ï¼ˆ1-5 æ˜Ÿï¼‰
  - æ‰§è¡Œç¬”è®°è¾“å…¥æ¡†ï¼ˆå¯é€‰ï¼‰
  - æ‰“å¡æˆåŠŸåŠ¨ç”»åé¦ˆ
  - è‡ªåŠ¨åˆ·æ–° Providerï¼ˆinvalidate habitStatsProviderï¼‰
- **è´Ÿè´£**: @flutter_architect
- **å®é™…æ—¶é—´**: 4 å°æ—¶

### Week 3: é«˜çº§åŠŸèƒ½ (ç»Ÿè®¡ä¸å¯è§†åŒ–)

#### Task 2.9: ä¹ æƒ¯è¯¦æƒ…é¡µé¢
- [ ] å®ç° `lib/features/habits/presentation/screens/habit_detail_screen.dart`
  - ä¹ æƒ¯å¾ªç¯ä¸‰è¦ç´ å±•ç¤ºï¼ˆå¡ç‰‡å¼å¸ƒå±€ï¼‰
  - æ‰§è¡Œç»Ÿè®¡å¡ç‰‡ï¼ˆè¿ç»­å¤©æ•°ã€æ€»æ¬¡æ•°ã€æœ¬å‘¨æ¬¡æ•°ã€å®Œæˆç‡ï¼‰
  - æ‰§è¡Œè®°å½•åˆ—è¡¨ï¼ˆæ—¶é—´ã€è´¨é‡æ˜Ÿçº§ã€ç¬”è®°ï¼‰
  - ç¼–è¾‘/åˆ é™¤æŒ‰é’®
- [ ] åˆ›å»º `lib/features/habits/presentation/widgets/habit_stats_card.dart`
  - 4 æ ¼ç»Ÿè®¡é¢æ¿
  - æ•°æ®è‡ªåŠ¨æ›´æ–°
- **è´Ÿè´£**: @flutter_architect
- **é¢„è®¡æ—¶é—´**: 5 å°æ—¶

#### Task 2.10: ç»Ÿè®¡è®¡ç®—é€»è¾‘å®Œå–„
- [ ] ä¼˜åŒ– Repository ä¸­çš„ç»Ÿè®¡ç®—æ³•
  - è¿ç»­å¤©æ•°è®¡ç®—ï¼ˆæ”¯æŒ"ä»Šå¤©æˆ–æ˜¨å¤©"é€»è¾‘ï¼‰
  - æœ¬å‘¨æ‰§è¡Œæ¬¡æ•°ï¼ˆå‘¨ä¸€ä¸ºèµ·å§‹ï¼‰
  - å®Œæˆç‡è®¡ç®—ï¼ˆè‡ªé¦–æ¬¡è®°å½•ä»¥æ¥ï¼‰
  - æœ€ä½³è¿ç»­è®°å½•è®¡ç®—
- [ ] æ·»åŠ å•å…ƒæµ‹è¯•éªŒè¯ç®—æ³•æ­£ç¡®æ€§
- **è´Ÿè´£**: @flutter_architect
- **é¢„è®¡æ—¶é—´**: 3 å°æ—¶

#### Task 2.11: æ—¥å†çƒ­åŠ›å›¾ç»„ä»¶
- [ ] åˆ›å»º `lib/features/habits/presentation/widgets/habit_calendar_heatmap.dart`
  - GitHub é£æ ¼å¹´åº¦çƒ­åŠ›å›¾
  - é¢œè‰²æ·±æµ…è¡¨ç¤ºå®Œæˆè´¨é‡ï¼ˆ1-5 æ˜Ÿå¯¹åº”æ¸å˜è‰²ï¼‰
  - ç‚¹å‡»æ—¥æœŸæ˜¾ç¤ºè¯¦æƒ…
  - æ”¯æŒæ»šåŠ¨æŸ¥çœ‹å†å²æ•°æ®
- [ ] é›†æˆåˆ°ä¹ æƒ¯è¯¦æƒ…é¡µ
- **è´Ÿè´£**: @flutter_architect
- **é¢„è®¡æ—¶é—´**: 6 å°æ—¶

#### Task 2.12: æ¬¡æ—¥è®¡åˆ’åŠŸèƒ½
- [ ] å®ç° `lib/features/habits/presentation/screens/daily_plan_screen.dart`
  - æ˜¾ç¤ºæ¬¡æ—¥è®¡åˆ’åˆ—è¡¨ï¼ˆæŒ‰ä¼˜å…ˆçº§æ’åºï¼‰
  - "ä»ä¹ æƒ¯ç”Ÿæˆ" Tab å’Œ "æ‰‹åŠ¨æ·»åŠ " Tab
  - è®¡åˆ’å®Œæˆå‹¾é€‰
  - å…³è”ä¹ æƒ¯æ˜¾ç¤º
- [ ] åˆ›å»º `lib/features/habits/presentation/widgets/plan_generator_dialog.dart`
  - ä¹ æƒ¯é€‰æ‹©å¯¹è¯æ¡†ï¼ˆå¤šé€‰ï¼‰
  - ä¸ºæ¯ä¸ªä¹ æƒ¯è®¾ç½®å»ºè®®æ—¶é—´
  - æ‰¹é‡ç”Ÿæˆè®¡åˆ’ï¼ˆå°†æš—ç¤ºä½œä¸ºä»»åŠ¡ï¼‰
- [ ] å®ç°è®¡åˆ’å®Œæˆåˆ°æ‰“å¡çš„å…³è”é€»è¾‘
  - æ ‡è®°è®¡åˆ’å®Œæˆæ—¶å¼¹å‡ºç¡®è®¤ï¼š"æš—ç¤ºå·²å®Œæˆï¼Œæ˜¯å¦æ‰§è¡Œæƒ¯å¸¸è¡Œä¸ºå¹¶æ‰“å¡ï¼Ÿ"
  - è‡ªåŠ¨å…³è” recordId
- **è´Ÿè´£**: @flutter_architect
- **é¢„è®¡æ—¶é—´**: 6 å°æ—¶

### Week 4: å®Œå–„ä¸æµ‹è¯• (æ‰“ç£¨ä½“éªŒ)

#### Task 2.13: Frontmatter ä¹ æƒ¯æ„Ÿæ‚Ÿ
- [ ] å®ç° `lib/features/habits/presentation/screens/frontmatter_screen.dart`
  - Markdown ç¼–è¾‘å™¨ï¼ˆä½¿ç”¨ flutter_markdownï¼‰
  - YAML frontmatter ç¼–è¾‘ï¼ˆtitle, created, updated, tagsï¼‰
  - é¢„è§ˆæ¨¡å¼ / ç¼–è¾‘æ¨¡å¼åˆ‡æ¢
  - è‡ªåŠ¨ä¿å­˜è‰ç¨¿
- [ ] æ ‡ç­¾ç³»ç»Ÿ
  - æ ‡ç­¾é€‰æ‹©å™¨
  - æŒ‰æ ‡ç­¾ç­›é€‰
- [ ] æ—¶é—´çº¿å±•ç¤º
  - æŒ‰æ›´æ–°æ—¶é—´æ’åº
  - ä¸ä¹ æƒ¯å…³è”æ˜¾ç¤º
- **è´Ÿè´£**: @flutter_architect
- **é¢„è®¡æ—¶é—´**: 5 å°æ—¶

#### Task 2.14: UI/UX ä¼˜åŒ–
- [ ] æ·»åŠ é¡µé¢åˆ‡æ¢åŠ¨ç”»ï¼ˆCupertinoPageRouteï¼‰
- [ ] æ‰“å¡æˆåŠŸåŠ¨ç”»ï¼ˆâœ“ å›¾æ ‡æ”¾å¤§ + éœ‡åŠ¨åé¦ˆï¼‰
- [ ] æˆå°±é€šçŸ¥ï¼ˆè¿ç»­ 7 å¤©ã€30 å¤©ç­‰é‡Œç¨‹ç¢‘ï¼‰
- [ ] ç©ºçŠ¶æ€ä¼˜åŒ–ï¼ˆç²¾ç¾æ’å›¾ï¼‰
- [ ] åŠ è½½çŠ¶æ€ä¼˜åŒ–ï¼ˆCupertinoActivityIndicatorï¼‰
- [ ] é”™è¯¯çŠ¶æ€è®¾è®¡ï¼ˆå‹å¥½æç¤ºï¼‰
- **è´Ÿè´£**: @flutter_architect
- **é¢„è®¡æ—¶é—´**: 4 å°æ—¶

#### Task 2.15: è·¯ç”±é…ç½®
- [ ] æ›´æ–° `lib/routing/app_router.dart`
  - /habits - ä¹ æƒ¯åˆ—è¡¨
  - /habits/new - åˆ›å»ºä¹ æƒ¯
  - /habits/:id - ä¹ æƒ¯è¯¦æƒ…
  - /habits/:id/edit - ç¼–è¾‘ä¹ æƒ¯
  - /habits/daily-plan - æ¬¡æ—¥è®¡åˆ’
  - /habits/frontmatter - ä¹ æƒ¯æ„Ÿæ‚Ÿ
- [ ] é›†æˆåˆ°åº•éƒ¨å¯¼èˆªæ 
- **è´Ÿè´£**: @flutter_architect
- **é¢„è®¡æ—¶é—´**: 2 å°æ—¶

#### Task 2.16: æµ‹è¯•ä¸æ–‡æ¡£
- [ ] ç¼–å†™å•å…ƒæµ‹è¯•
  - å®ä½“æµ‹è¯•ï¼ˆHabit, HabitRecord, HabitStatsï¼‰
  - Repository æµ‹è¯•ï¼ˆç»Ÿè®¡è®¡ç®—é€»è¾‘ï¼‰
- [ ] ç¼–å†™ Widget æµ‹è¯•
  - HabitCard ç»„ä»¶æµ‹è¯•
  - CheckInDialog æµ‹è¯•
- [ ] ç¼–å†™é›†æˆæµ‹è¯•
  - åˆ›å»ºä¹ æƒ¯ â†’ æ‰“å¡ â†’ æŸ¥çœ‹ç»Ÿè®¡ å®Œæ•´æµç¨‹
- [ ] æ›´æ–°ç”¨æˆ·æ‰‹å†Œ
- **è´Ÿè´£**: @flutter_architect
- **é¢„è®¡æ—¶é—´**: 5 å°æ—¶

### Phase 2 éªŒæ”¶æ ‡å‡† âœ“

**åŠŸèƒ½å®Œæ•´æ€§**:
- [ ] å¯ä»¥åˆ›å»ºæ­£å‘ä¹ æƒ¯å’Œä¹ æƒ¯æ›¿ä»£
- [ ] æ¯æ—¥æ‰“å¡æµç•…æ— è¯¯
- [ ] è¿ç»­å¤©æ•°å’Œå®Œæˆç‡è®¡ç®—å‡†ç¡®
- [ ] æ¬¡æ—¥è®¡åˆ’ç”Ÿæˆå’Œç®¡ç†æ­£å¸¸
- [ ] Frontmatter ä¹ æƒ¯æ„Ÿæ‚Ÿå¯ç¼–è¾‘

**ç”¨æˆ·ä½“éªŒ**:
- [ ] iOS é£æ ¼ UI ç¾è§‚æµç•…
- [ ] æ‰“å¡æ“ä½œ < 5 ç§’å®Œæˆ
- [ ] åŠ¨ç”»è¿‡æ¸¡è‡ªç„¶
- [ ] ç©ºçŠ¶æ€/é”™è¯¯çŠ¶æ€å‹å¥½

**æŠ€æœ¯æŒ‡æ ‡**:
- [ ] æ•°æ®åº“æ“ä½œæ— é˜»å¡ï¼ˆåå°çº¿ç¨‹ï¼‰
- [ ] é¡µé¢åˆ‡æ¢æµç•… 60fps
- [ ] æµ‹è¯•è¦†ç›–ç‡ > 60%
- [ ] 0 ä¸¥é‡ Bug

**æ‰©å±•æ€§**:
- [ ] Repository æ¥å£æ¸…æ™°ï¼Œæ˜“äºåç»­æ¥å…¥äº‘ç«¯åŒæ­¥
- [ ] æ•°æ®æ¨¡å‹ä¸ UI è§£è€¦
- [ ] ä¸º Phase 5 äº‘ç«¯åŒæ­¥é¢„ç•™æ¥å£

---

## Phase 3: çµæ„Ÿè®°å½•ä¸åæ€ (2-3 å‘¨)

**ç›®æ ‡**: è®°å½•è¿åŠ¨ã€å·¥ä½œã€ç”Ÿæ´»å„é¢†åŸŸçš„æ„Ÿæ‚Ÿ

### å¾…è§„åˆ’ â³

- [ ] å¤šç±»å‹åæ€ï¼ˆè¿åŠ¨/å·¥ä½œ/ç”Ÿæ´»ï¼‰
- [ ] å¯Œæ–‡æœ¬ç¼–è¾‘å™¨
- [ ] å›¾ç‰‡/è§†é¢‘é™„ä»¶
- [ ] æ ‡ç­¾ç³»ç»Ÿ
- [ ] æ—¶é—´çº¿è§†å›¾
- [ ] ä¸ç›®æ ‡å…³è”

---

## Phase 4: çŸ¥è¯†åº“ä¸æœç´¢ (2-3 å‘¨)

**ç›®æ ‡**: æ„å»ºä¸ªäººé—®é¢˜è§£å†³æ–¹æ¡ˆåº“

### å¾…è§„åˆ’ â³

- [ ] çŸ¥è¯†æ¡ç›® CRUD
- [ ] Markdown æ”¯æŒ
- [ ] å…¨æ–‡æœç´¢ï¼ˆPostgreSQL tsvectorï¼‰
- [ ] åˆ†ç±»å’Œæ ‡ç­¾
- [ ] æ”¶è—ç³»ç»Ÿ
- [ ] å¯¼å‡ºåŠŸèƒ½ï¼ˆPDF/Markdownï¼‰

---

## Phase 5: é«˜çº§åŠŸèƒ½ (æŒ‰éœ€å¼€å‘)

### å¾…è§„åˆ’ â³

- [ ] æ•°æ®åˆ†æä»ªè¡¨ç›˜
- [ ] ç›®æ ‡/ä¹ æƒ¯å…³è”åˆ†æ
- [ ] æ•°æ®å¯¼å‡º/å¯¼å…¥
- [ ] å¤šè®¾å¤‡åŒæ­¥ä¼˜åŒ–
- [ ] ç”¨æˆ·è®¤è¯ç³»ç»Ÿï¼ˆå¤šç”¨æˆ·æ”¯æŒï¼‰
- [ ] å¤‡ä»½ä¸æ¢å¤
- [ ] æ·±è‰²æ¨¡å¼å®Œå–„
- [ ] iPad é€‚é…ä¼˜åŒ–

---

## é£é™©ä¸ç¼“è§£æªæ–½

| é£é™© | å½±å“ | ç¼“è§£æªæ–½ |
|------|------|---------|
| ltree å­¦ä¹ æ›²çº¿ | ä¸­ | æå‰ç ”ç©¶æ–‡æ¡£ï¼Œå‡†å¤‡ç¤ºä¾‹æŸ¥è¯¢ |
| ç¦»çº¿åŒæ­¥å†²çªå¤æ‚ | é«˜ | ä½¿ç”¨ç®€å•çš„ Last Write Wins ç­–ç•¥ |
| Flutter æ€§èƒ½é—®é¢˜ | ä¸­ | æŒç»­ Profileï¼Œä½¿ç”¨ const å’Œç¼“å­˜ |
| Go å¹¶å‘ bug | ä¸­ | ä½¿ç”¨ race detectorï¼Œå……åˆ†æµ‹è¯• |

---

## æ¯æ—¥ç«™ä¼šæ£€æŸ¥é¡¹

- [ ] æ˜¨å¤©å®Œæˆäº†ä»€ä¹ˆï¼Ÿ
- [ ] ä»Šå¤©è®¡åˆ’åšä»€ä¹ˆï¼Ÿ
- [ ] é‡åˆ°ä»€ä¹ˆé˜»ç¢ï¼Ÿ
- [ ] éœ€è¦å…¶ä»– Agent ååŠ©å—ï¼Ÿ

---

## é‡Œç¨‹ç¢‘

- **M1 (Week 2)**: æ•°æ®æ¨¡å‹å’Œå­˜å‚¨å±‚å®Œæˆ
- **M2 (Week 4)**: åŸºç¡€ UI å’Œ API å®Œæˆ
- **M3 (Week 6)**: Phase 1 MVP å®Œæˆï¼Œå¯æ¼”ç¤º

---

## æœ¬æ¬¡æ›´æ–°æ€»ç»“ (2025-10-04)

### Phase 2 Week 1-2 å·²å®Œæˆ âœ…

**å®Œæˆçš„åŠŸèƒ½**:
- âœ… ä¹ æƒ¯ CRUDï¼ˆåˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ï¼‰
- âœ… ä¹ æƒ¯æ‰“å¡åŠŸèƒ½ï¼ˆè´¨é‡è¯„åˆ† 1-5 æ˜Ÿã€ç¬”è®°ï¼‰
- âœ… ç»Ÿè®¡è®¡ç®—ï¼ˆè¿ç»­å¤©æ•°ã€å®Œæˆç‡ï¼‰
- âœ… æœç´¢å’Œç­›é€‰
- âœ… iOS é£æ ¼ UIï¼ˆCupertino ç»„ä»¶ï¼‰

**ä¿®å¤çš„é—®é¢˜**:
- ğŸ› Hero æ ‡ç­¾å†²çªï¼ˆå¯¼èˆªæ åŠ¨ç”»ï¼‰
- ğŸ› æ•°æ®åº“ CHECK çº¦æŸå‘½åé—®é¢˜
- ğŸ› å¸ƒå±€çº¦æŸé—®é¢˜ï¼ˆColumn/Rowï¼‰

**UI/UX ä¼˜åŒ–**:
- ğŸ¨ ç‚¹å‡»å¡ç‰‡ â†’ ç›´æ¥ç¼–è¾‘
- ğŸ¨ å·¦æ»‘ â†’ åˆ é™¤ç¡®è®¤ï¼ˆDismissibleï¼‰
- ğŸ¨ ç‹¬ç«‹æ‰“å¡æŒ‰é’®ï¼ˆé˜»æ­¢äº‹ä»¶å†’æ³¡ï¼‰

**æ–°å¢æ–‡ä»¶æ•°**: 48 ä¸ª
**ä»£ç è¡Œæ•°**: ~3000+ è¡Œ

---

**æœ€åæ›´æ–°**: 2025-10-04
**å½“å‰å†²åˆº**: Phase 2, Week 3ï¼ˆä¹ æƒ¯è¯¦æƒ…é¡µé¢å¼€å‘ä¸­ï¼‰
